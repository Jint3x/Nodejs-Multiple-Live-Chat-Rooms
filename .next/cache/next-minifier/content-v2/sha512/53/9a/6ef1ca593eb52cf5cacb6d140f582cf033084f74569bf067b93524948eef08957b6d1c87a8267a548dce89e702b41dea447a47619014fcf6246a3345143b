{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{\"3e6q\":function(e,n,t){e.exports={heading:\"chatroom_heading__3YxxD\",msgLogger:\"chatroom_msgLogger__XZUFJ\",messages:\"chatroom_messages__3kFUG\",sendMessages:\"chatroom_sendMessages__3tNxv\",connected:\"chatroom_connected__19Saz\"}},\"7LHv\":function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push([\"/chat/[id]\",function(){return t(\"bZV+\")}])},Qetd:function(e,n,t){\"use strict\";var a=Object.assign.bind(Object);e.exports=a,e.exports.default=e.exports},\"bZV+\":function(e,n,t){\"use strict\";t.r(n);var a=t(\"q1tI\"),o=t.n(a),c=t(\"3e6q\"),s=t.n(c),i=o.a.createElement;function u(){var e=Object(a.useState)(\"\"),n=e[0],t=e[1];return Object(a.useEffect)((function(){var e=location.pathname.split(\"/\")[location.pathname.split(\"/\").length-1];t(e.replace(/%20/gi,\" \"))}),[]),i(\"h1\",{id:s.a.heading},\"Chat Room: \",n)}function r(e){var n=Object(a.useState)(\"\"),t=n[0],c=n[1],s=Object(a.useState)(\"\"),u=s[0],r=s[1],g=Object(a.useState)([]),h=g[0],m=g[1],p=Object(a.useState)(0),v=p[0],_=p[1],b=Object(a.useState)(\"\"),w=b[0],j=b[1];return Object(a.useEffect)((function(){var e=[],n=location.pathname.split(\"/\")[location.pathname.split(\"/\").length-1].replace(/%20/gi,\"\"),t=new WebSocket(\"ws://localhost:8080/\"+n),a=document.cookie.split(\";\").find((function(e){return e.includes(\"username\")})).split(\"=\")[1];t.addEventListener(\"message\",(function(n){var t=JSON.parse(n.data),o=e.slice(0);if(void 0!==t.connected)return void _(t.connected);o.unshift(t.data),e.unshift(t.data),m(o),j(a)})),t.addEventListener(\"open\",(function(){t.send(\"\".concat(a,\" has joined the chat\"))})),window.addEventListener(\"unload\",(function(){t.send(\"\".concat(a,\" has left the chat\"))})),r(t)}),[]),i(o.a.Fragment,null,i(d,{messages:h}),i(l,{value:t,change:function(e){c(e.target.value)},log:function(){\"\"!==t&&(u.send(\"\".concat(w,\": \").concat(t)),c(\"\"))}}),i(f,{clients:v}))}function d(e){var n=e.messages.map((function(e){return i(g,{data:e,key:\"\".concat(e.toString()).concat(Math.floor(1e5*Math.random()))})}));return i(\"div\",{id:s.a.msgLogger},i(\"ul\",{id:s.a.messages},n))}function l(e){return i(\"div\",{id:s.a.sendMessages},i(\"input\",{value:e.value,onChange:e.change,onKeyPress:function(n){if(13===n.which||13===n.keyStroke)return e.log()}}),i(\"button\",{onClick:e.log},\"Send\"))}function f(e){return i(\"div\",{id:s.a.connected},i(\"h1\",null,\"Connected Members: \",e.clients))}function g(e){return i(\"li\",null,e.data)}n.default=function(){return Object(a.useEffect)((function(){if(!document.cookie.split(\";\").some((function(e){return e.includes(\"username\")}))){var e=prompt(\"Enter your username\");document.cookie=\"username=\".concat(e)}})),i(o.a.Fragment,null,i(u,null),i(r,null))}}},[[\"7LHv\",0,1]]]);","extractedComments":[]}