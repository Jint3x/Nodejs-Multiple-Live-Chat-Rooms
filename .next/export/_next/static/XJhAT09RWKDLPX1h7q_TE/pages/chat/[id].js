(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"3e6q":function(e,n,t){e.exports={heading:"chatroom_heading__3YxxD",msgLogger:"chatroom_msgLogger__XZUFJ",messages:"chatroom_messages__3kFUG",sendMessages:"chatroom_sendMessages__3tNxv",connected:"chatroom_connected__19Saz"}},"7LHv":function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/chat/[id]",function(){return t("bZV+")}])},Qetd:function(e,n,t){"use strict";var a=Object.assign.bind(Object);e.exports=a,e.exports.default=e.exports},"bZV+":function(e,n,t){"use strict";t.r(n);var a=t("q1tI"),c=t.n(a),o=t("3e6q"),s=t.n(o),i=c.a.createElement,u=Object(a.lazy)((function(){return t.e(10).then(t.bind(null,"T5u8"))}));function r(){var e=Object(a.useState)(""),n=e[0],t=e[1];return Object(a.useEffect)((function(){var e=location.pathname.split("/")[location.pathname.split("/").length-1];t(e.replace(/%20/gi," "))}),[]),i("h1",{id:s.a.heading},"Chat Room: ",n)}function l(e){var n=Object(a.useState)(""),t=n[0],o=n[1],s=Object(a.useState)(""),u=s[0],r=s[1],l=Object(a.useState)([]),h=l[0],m=l[1],p=Object(a.useState)(0),v=p[0],b=p[1],_=Object(a.useState)(""),w=_[0],j=_[1];return Object(a.useEffect)((function(){var e=[],n=location.pathname.split("/")[location.pathname.split("/").length-1].replace(/%20/gi,""),t=new WebSocket("ws://localhost:8080/"+n),a=document.cookie.split(";").find((function(e){return e.includes("username")})).split("=")[1];t.addEventListener("message",(function(n){var t=JSON.parse(n.data),c=e.slice(0);if(void 0!==t.connected)return void b(t.connected);c.unshift(t.data),e.unshift(t.data),m(c),j(a)})),t.addEventListener("open",(function(){t.send("".concat(a," has joined the chat"))})),window.addEventListener("unload",(function(){t.send("".concat(a," has left the chat"))})),r(t)}),[]),i(c.a.Fragment,null,i(d,{messages:h}),i(f,{value:t,change:function(e){o(e.target.value)},log:function(){""!==t&&(u.send("".concat(w,": ").concat(t)),o(""))}}),i(g,{clients:v}))}function d(e){var n=e.messages.map((function(e){return i(h,{data:e,key:"".concat(e.toString()).concat(Math.floor(1e5*Math.random()))})}));return i("div",{id:s.a.msgLogger},i("ul",{id:s.a.messages},n))}function f(e){return i("div",{id:s.a.sendMessages},i("input",{value:e.value,onChange:e.change,onKeyPress:function(n){if(13===n.which||13===n.keyStroke)return e.log()}}),i("button",{onClick:e.log},"Send"))}function g(e){return i("div",{id:s.a.connected},i("h1",null,"Connected Members: ",e.clients))}function h(e){return i("li",null,e.data)}n.default=function(){var e=Object(a.useState)(!1),n=e[0],t=e[1];return Object(a.useEffect)((function(){document.cookie.split(";").some((function(e){return e.includes("username")}))&&t(!0)})),i(c.a.Fragment,null,n&&i(c.a.Fragment,null,i(r,null),i(l,null)),!n&&i(a.Suspense,null,i(u,null)))}}},[["7LHv",0,1]]]);